## 7.高级函数 发挥函数的极限
#### 寻找真命天子
#### 把代码传给函数
#### 把函数名告诉find()
#### 函数名是指向函数的指针
#### ......没有函数类型
#### 如何创建函数指针
#### 用C标准库排序
**void指针(void\*)可以保存任何类型的指针。**

#### 用函数指针设置顺序
#### 分手信自动生成器
#### 创建函数指针数组
如果想在数组中保存函数，就必须告诉编译器函数的具体特征：函数返回什么类型以及接收什么参数。
```c
void(*replies[])(response) = {dump, second_chance, marriage};// 数组中所有函数都是void函数。变量名是replies。 *replies[]不仅仅是函数指针，还是函数指针数组。
// 返回类型(*指针变量)(参数类型)
```
- 函数指针中保存了函数的地址。
- 函数名其实是函数指针。
- 如果你有函数shoot()，那么shoot和&shoot都指向了shoot()函数。
- 可以用“返回类型(*变量名)(参数类型)”来声明新的函数指针。
- 如果fp是函数指针，那么可以用fp(参数，......)调用函数。
- 也可以用(*fp)(参数, ......)两种情况都能工作。
- C标准库中有一个叫qsort()的排序函数。
- qsort()接收指向比较器函数的指针，比较器函数可以比较两个值的大小。
- 比较器函数接收两个指针，分别指向待排序数组中的两项。
- 如果把数据保存在数组中，就可以用函数指针数组将函数与数据项关联起来。

#### 让函数能伸能缩
```c
#include <stdarg.h>// 所有处理可变参数函数的代码都在stdarg.h中，务必包含这个头文件。

void print_ints(int args, ...)// int args是普通参数，可变参数跟在后面。
{
    va_list ap;// va_list用来保存传给函数的其他参数。
    va_start(ap, args);// va_start表示可变参数从哪里开始。从args参数开始后面都是可变参数。
    int i;
    for (i = 0; i < args; i++) {// 循环遍历所有其他参数。args中保存了变量的数目。
        printf("argument: %i\n", va_arg(ap, int));
    }
    va_end(ap);// 销毁va_list
}
```
**要点**
- 接收数量可变参数的函数叫可变参数函数。
- 为了创建可变参数函数，需要包含stdarg.h头文件。
- 可变参数将保存在va_list中。
- 可以用va_start()、va_arg()和va_end()控制va_list。
- 至少需要一个普通参数。
- 读取参数时不能超过给出的参数个数。
- 需要知道要读取参数的类型。

#### C语言工具箱
- 有了函数指针，就可以把函数当数据传递。
- 函数指针是唯一不需要加*和&运算符的指针......只要你想，也可以加上它们。
- 每个函数的名字都是一个指向函数的指针。
- qsort()会排序数组。
- 排序函数接收比较器函数指针。
- 比较器函数决定如何排序两条数据。
- 有了函数指针数组，就可以根据不同类型的数据运行不同的函数。
- 参数数量可变的函数叫“可变参数函数”。
- 包含stdarg.h，就可以创建可变参数函数。

